(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function d(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=d(a);fetch(a.href,i)}})();/**
 * @license
 * Copyright 2021 Google LLC.
 * SPDX-License-Identifier: Apache-2.0
 */const u=deck.GoogleMapsOverlay,g=deck.TripsLayer,y="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022.json",w="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022bulk.json",T="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022randombulk.json",h=31557600,m=29667,L=[y,w,T],p=[h,m,m];function A(){var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?v=weekly&key=AIzaSyDoVOLk0SYBOGRcupNpEhVLeGUqjkBtJ_A&callback=initMap",document.body.appendChild(t),jQuery("#welcome").modal("show")}document.getElementById("reset").addEventListener("click",t=>Z());function f(){document.getElementById("sequenceAnimate").addEventListener("click",s=>a(0)),document.getElementById("bulkAnimate").addEventListener("click",s=>a(1)),document.getElementById("randAnimate").addEventListener("click",s=>a(2));let t=428e3,n=1;const d=new u({}),e=new google.maps.Map(document.getElementById("map"),{center:{lat:29.64462421696083,lng:-82.33479384825146},mapId:"1ae1962daafbdd69",tilt:45,zoom:17,disableDefaultUI:!0});function a(s){t=s==0?42800:-5,e.setCenter({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(18),e.setTilt(45);const o={id:"trips",data:L[s],getPath:c=>c.path,getTimestamps:c=>c.timestamps,getColor:[255,87,51],opacity:1,widthMinPixels:4,trailLength:p[s],currentTime:t,shadowEnabled:!1,jointRounded:!0,capRounded:!0};s==0?window.setInterval(i,80):window.setInterval(r,80);const l=()=>{t=(t+n)%p[s];const c=new g({...o,currentTime:t});d.setProps({layers:[c]}),window.requestAnimationFrame(l)};window.requestAnimationFrame(l),d.setMap(e)}function i(){let s=e.getHeading()||0,o=e.getZoom()||10,l=e.getTilt()||45;t<35e5?(n<265e3&&(n*=1.05),e.setHeading(s-.1),e.setZoom(o-.01)):t<4e6?(t<37e5&&(e.setCenter({lat:28.6024,lng:-81.2001}),n=3e3),n=n*1.4,e.setHeading(0),e.setZoom(o-.1),e.setTilt(l-.1),e.panBy(0,2)):t<775e4?(n=3e4,e.setHeading(s+.07),o>11&&e.setZoom(o-.01),e.setCenter({lat:29.64462421696083,lng:-82.33479384825146})):t<8e6?(t<776e4&&(n=1e3,e.setCenter({lat:34.1607,lng:-84.0044})),n=n+40,e.setHeading(0),e.setZoom(o+.005),e.panBy(-.2,.2)):t<92e5?(n=2e4,e.setZoom(o-.03),e.setTilt(l-.1),e.setCenter({lat:29.54462421696083,lng:-82.33479384825146})):t<103e5?(e.setZoom(o-.01),e.panBy(5,15)):t<105e5?(n=2e3,e.setCenter({lat:41.2565,lng:-95.9345}),e.setZoom(o+.04),e.setTilt(l+.3)):t<108e5?(n*=1.1,e.panTo({lat:28.8024,lng:-81.2001}),e.setZoom(o-.05),e.setTilt(45)):t<195e5?(t<13e6&&e.panBy(-3,-6),o>9&&e.setZoom(o-.04),e.setHeading(s+.3)):t<2e7?(n=9e3*1.01,e.panTo({lat:34.7367,lng:-83.3927}),e.setZoom(o+.05)):t<222e5?(e.setHeading(0),e.setZoom(o+.01),e.panTo({lat:29.64462421696083,lng:-82.33479384825146})):t<226e5?(e.panTo({lat:32.914,lng:-96.9489}),e.setZoom(o+.01)):t<233e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(o+.01)):t<243e5?(e.panTo({lat:26.6618,lng:-80.2684}),e.setZoom(o+.01)):t<268e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(o-.01)):t<282e5?(e.panTo({lat:42.2406,lng:-8.7207}),e.setHeading(s+.1)):t<3e7?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setHeading(0),e.setZoom(o-.05)):t<306e5?(e.panTo({lat:28.292,lng:-81.4076}),e.setZoom(o-.05)):t<32e6&&(e.panTo({lat:36.2168,lng:-81.6746}),e.setZoom(3))}function r(){let s=e.getZoom()||10;s>17?n=.05:n*=1.01,s>3&&e.setZoom(s-.01)}}function Z(){window.location.reload(),window.initMap=f}window.onload=A;window.initMap=f;
