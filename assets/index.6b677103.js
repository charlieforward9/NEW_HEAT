(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function d(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(s){if(s.ep)return;s.ep=!0;const i=d(s);fetch(s.href,i)}})();/**
 * @license
 * Copyright 2021 Google LLC.
 * SPDX-License-Identifier: Apache-2.0
 */const u=deck.GoogleMapsOverlay,g=deck.TripsLayer,y="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022.json",w="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022bulk.json",T="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022randombulk.json",h=31557600,m=29667,L=[y,w,T],p=[h,m,m];function Z(){var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?v=weekly&key=AIzaSyDoVOLk0SYBOGRcupNpEhVLeGUqjkBtJ_A&callback=initMap",document.body.appendChild(t),jQuery("#welcome").modal("show")}document.getElementById("reset").addEventListener("click",t=>E());const A=t=>new Promise(o=>setTimeout(o,t));function f(){document.getElementById("sequenceAnimate").addEventListener("click",a=>s(0)),document.getElementById("bulkAnimate").addEventListener("click",a=>s(1)),document.getElementById("randAnimate").addEventListener("click",a=>s(2));let t=428e3,o=1;const d=new u({}),e=new google.maps.Map(document.getElementById("map"),{center:{lat:29.64462421696083,lng:-82.33479384825146},mapId:"1ae1962daafbdd69",tilt:45,zoom:17,disableDefaultUI:!0});async function s(a){window.scrollTo({top:70,behavior:"smooth"}),t=a==0?42800:0,e.setCenter({lat:29.64462421696083,lng:-82.33479384825146}),a==3?e.setZoom(3):e.setZoom(18),e.setTilt(45);const n={id:"trips",data:L[a%3],getPath:c=>c.path,getTimestamps:c=>c.timestamps,getColor:[255,87,51],opacity:1,widthMinPixels:4,trailLength:p[a],currentTime:t,shadowEnabled:!1,jointRounded:!0,capRounded:!0},l=async()=>{t=(t+o)%p[a];const c=new g({...n,currentTime:t});d.setProps({layers:[c]}),o==1&&await A(1e3),window.requestAnimationFrame(l)};window.requestAnimationFrame(l),d.setMap(e),a==0?window.setInterval(i,80):(a==1,window.setInterval(r,1e3))}function i(){let a=e.getHeading()||0,n=e.getZoom()||10,l=e.getTilt()||45;t<35e5?(o<265e3&&(o*=1.05),e.setHeading(a-.1),e.setZoom(n-.01)):t<4e6?(t<37e5&&(e.setCenter({lat:28.6024,lng:-81.2001}),o=3e3),o=o*1.4,e.setHeading(0),e.setZoom(n-.1),e.setTilt(l-.1),e.panBy(0,2)):t<775e4?(o=3e4,e.setHeading(a+.07),n>11&&e.setZoom(n-.01),e.setCenter({lat:29.64462421696083,lng:-82.33479384825146})):t<8e6?(t<776e4&&(o=1e3,e.setCenter({lat:34.1607,lng:-84.0044})),o=o+40,e.setHeading(0),e.setZoom(n+.005),e.panBy(-.2,.2)):t<92e5?(o=2e4,e.setZoom(n-.03),e.setTilt(l-.1),e.setCenter({lat:29.54462421696083,lng:-82.33479384825146})):t<103e5?(e.setZoom(n-.01),e.panBy(5,15)):t<105e5?(o=2e3,e.setCenter({lat:41.2565,lng:-95.9345}),e.setZoom(n+.04),e.setTilt(l+.3)):t<108e5?(o*=1.1,e.panTo({lat:28.8024,lng:-81.2001}),e.setZoom(n-.05),e.setTilt(45)):t<195e5?(t<13e6&&e.panBy(-3,-6),n>9&&e.setZoom(n-.04),e.setHeading(a+.3)):t<2e7?(o=9e3*1.01,e.panTo({lat:34.7367,lng:-83.3927}),e.setZoom(n+.05)):t<222e5?(e.setHeading(0),e.setZoom(n+.01),e.panTo({lat:29.64462421696083,lng:-82.33479384825146})):t<226e5?(e.panTo({lat:32.914,lng:-96.9489}),e.setZoom(n+.01)):t<233e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(n+.01)):t<243e5?(e.panTo({lat:26.6618,lng:-80.2684}),e.setZoom(n+.01)):t<268e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(n-.01)):t<282e5?(e.panTo({lat:42.2406,lng:-8.7207}),e.setHeading(a+.1)):t<3e7?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setHeading(0),e.setZoom(n-.05)):t<306e5?(e.panTo({lat:28.292,lng:-81.4076}),e.setZoom(n-.05)):t<32e6&&(e.panTo({lat:36.2168,lng:-81.6746}),e.setZoom(3))}function r(){let a=e.getZoom()||10;a>17?o=.1:o*=1.2,a>3&&e.setZoom(a-.2)}}function E(){window.location.reload(),window.initMap=f}window.onload=Z;window.initMap=f;
