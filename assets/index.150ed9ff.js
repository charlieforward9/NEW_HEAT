(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function m(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=m(a);fetch(a.href,i)}})();/**
 * @license
 * Copyright 2021 Google LLC.
 * SPDX-License-Identifier: Apache-2.0
 */const u=deck.GoogleMapsOverlay,g=deck.TripsLayer,y="5e2bfc552939a6f4",w="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022.json",T="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022bulk.json",h="https://raw.githubusercontent.com/charlieforward9/animated_heatmap/master/data/2022randombulk.json",L=31557600,d=29667,A=[w,T,h],p=[L,d,d];function E(){var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?v=weekly&key=AIzaSyDoVOLk0SYBOGRcupNpEhVLeGUqjkBtJ_A&callback=initMap",document.body.appendChild(t),jQuery("#welcome").modal("show")}document.getElementById("reset").addEventListener("click",t=>v());const Z=t=>new Promise(o=>setTimeout(o,t));function f(){document.getElementById("sequenceAnimate").addEventListener("click",n=>a(0)),document.getElementById("bulkAnimate").addEventListener("click",n=>a(1)),document.getElementById("randAnimate").addEventListener("click",n=>a(2)),document.getElementById("normAnimate").addEventListener("click",n=>a(4));let t=428e3,o=1;const m=new u({}),e=new google.maps.Map(document.getElementById("map"),{center:{lat:29.64462421696083,lng:-82.33479384825146},mapId:y,tilt:45,zoom:17,disableDefaultUI:!0});async function a(n){window.scrollTo({top:70,behavior:"smooth"}),t=n==0?42800:0,e.setCenter({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(18),e.setTilt(45);const s={id:"trips",data:A[n%3],getPath:c=>c.path,getTimestamps:c=>c.timestamps,getColor:[255,87,51],opacity:1,widthMinPixels:4,trailLength:p[n%3],currentTime:t,shadowEnabled:!1,jointRounded:!0,capRounded:!0},l=async()=>{t=(t+o)%p[n%3];const c=new g({...s,currentTime:t});m.setProps({layers:[c]}),o==1&&await Z(1e3),window.requestAnimationFrame(l)};window.requestAnimationFrame(l),m.setMap(e),n==0?window.setInterval(i,80):n==1||n==2?window.setInterval(r,1e3):n==3?o=1e7:n==4&&(o=1e5)}function i(){let n=e.getHeading()||0,s=e.getZoom()||10,l=e.getTilt()||45;t<35e5?(o<265e3&&(o*=1.05),e.setHeading(n-.1),e.setZoom(s-.01)):t<4e6?(t<37e5&&(e.setCenter({lat:28.6024,lng:-81.2001}),o=3e3),o=o*1.4,e.setHeading(0),e.setZoom(s-.1),e.setTilt(l-.1),e.panBy(0,2)):t<775e4?(o=3e4,e.setHeading(n+.07),s>11&&e.setZoom(s-.01),e.setCenter({lat:29.64462421696083,lng:-82.33479384825146})):t<8e6?(t<776e4&&(o=1e3,e.setCenter({lat:34.1607,lng:-84.0044})),o=o+40,e.setHeading(0),e.setZoom(s+.005),e.panBy(-.2,.2)):t<92e5?(o=2e4,e.setZoom(s-.03),e.setTilt(l-.1),e.setCenter({lat:29.54462421696083,lng:-82.33479384825146})):t<103e5?(e.setZoom(s-.01),e.panBy(5,15)):t<105e5?(o=2e3,e.setCenter({lat:41.2565,lng:-95.9345}),e.setZoom(s+.04),e.setTilt(l+.3)):t<108e5?(o*=1.1,e.panTo({lat:28.8024,lng:-81.2001}),e.setZoom(s-.05),e.setTilt(45)):t<195e5?(t<13e6&&e.panBy(-3,-6),s>9&&e.setZoom(s-.04),e.setHeading(n+.3)):t<2e7?(o=9e3*1.01,e.panTo({lat:34.7367,lng:-83.3927}),e.setZoom(s+.05)):t<222e5?(e.setHeading(0),e.setZoom(s+.01),e.panTo({lat:29.64462421696083,lng:-82.33479384825146})):t<226e5?(e.panTo({lat:32.914,lng:-96.9489}),e.setZoom(s+.01)):t<233e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(s+.01)):t<243e5?(e.panTo({lat:26.6618,lng:-80.2684}),e.setZoom(s+.01)):t<268e5?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setZoom(s-.01)):t<282e5?(e.panTo({lat:42.2406,lng:-8.7207}),e.setHeading(n+.1)):t<3e7?(e.panTo({lat:29.64462421696083,lng:-82.33479384825146}),e.setHeading(0),e.setZoom(s-.05)):t<306e5?(e.panTo({lat:28.292,lng:-81.4076}),e.setZoom(s-.05)):t<32e6&&(e.panTo({lat:36.2168,lng:-81.6746}),e.setZoom(3))}function r(){let n=e.getZoom()||10;n>17?o=.1:o*=1.2,n>3&&e.setZoom(n-.2)}}function v(){window.location.reload(),window.initMap=f}window.onload=E;window.initMap=f;
